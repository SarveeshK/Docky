{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{getToken}from'../utils/auth';import{toast}from'react-toastify';import Layout from'../components/Layout';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminDashboard(){const[docs,setDocs]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');// Filter states\nconst[filterUser,setFilterUser]=useState('');const[filterStart,setFilterStart]=useState('');const[filterEnd,setFilterEnd]=useState('');const[viewFile,setViewFile]=useState(null);// { url, title, type }\nconst[editComments,setEditComments]=useState({});// { [docId]: comment }\nuseEffect(()=>{fetchDocs();},[]);const fetchDocs=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};setLoading(true);try{const token=getToken();if(!token){toast.error('Session expired. Please log in again.');setLoading(false);return;}// Build query params\nconst params={};if(filters.user_name)params.user_name=filters.user_name;if(filters.start_date)params.start_date=filters.start_date;if(filters.end_date)params.end_date=filters.end_date;const res=await axios.get('/api/admin/documents',{headers:{Authorization:`Bearer ${token}`},params});setDocs(res.data);}catch(err){toast.error('Failed to fetch documents');}setLoading(false);};const handleFilter=e=>{e.preventDefault();fetchDocs({user_name:filterUser,start_date:filterStart,end_date:filterEnd});};const handleCommentChange=(docId,value)=>{setEditComments(prev=>({...prev,[docId]:value}));};const handleSave=async(docId,is_viewed)=>{setLoading(true);try{const token=getToken();if(!token){toast.error('Session expired. Please log in again.');setLoading(false);return;}await axios.put(`/api/admin/documents/${docId}`,{is_viewed,admin_comment:editComments[docId]},{headers:{Authorization:`Bearer ${token}`}});toast.success('Saved!');fetchDocs({user_name:filterUser,start_date:filterStart,end_date:filterEnd});}catch(err){toast.error('Update failed');}setLoading(false);};const handleViewFile=async doc=>{setLoading(true);try{const token=getToken();const res=await fetch(`/api/documents/view/${doc.id}`,{headers:{Authorization:`Bearer ${token}`}});if(!res.ok)throw new Error('Failed to fetch file');const contentType=res.headers.get('Content-Type');const blob=await res.blob();const url=URL.createObjectURL(blob);setViewFile({url,title:doc.title,type:contentType});}catch(err){toast.error('Could not preview file');}setLoading(false);};const handleDownloadFile=async doc=>{setLoading(true);try{const token=getToken();const res=await fetch(`/api/documents/download/${doc.id}`,{headers:{Authorization:`Bearer ${token}`}});if(!res.ok)throw new Error('Failed to download file');const blob=await res.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=doc.filename||doc.title;document.body.appendChild(a);a.click();a.remove();window.URL.revokeObjectURL(url);}catch(err){toast.error('Could not download file');}setLoading(false);};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-blue-700\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/admin/deadline\",className:\"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600 transition\",children:\"Set Deadline\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-wrap gap-2 bg-white p-4 rounded-xl shadow border border-blue-100 mb-4\",onSubmit:handleFilter,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Name\",value:filterUser,onChange:e=>setFilterUser(e.target.value),className:\"p-2 border rounded focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterStart,onChange:e=>setFilterStart(e.target.value),className:\"p-2 border rounded focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterEnd,onChange:e=>setFilterEnd(e.target.value),className:\"p-2 border rounded focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold transition\",children:\"Filter\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-blue-100\",children:loading?/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm text-left\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-blue-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Uploaded\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Viewed\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Comment\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"File\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:docs.map(doc=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b last:border-0 hover:bg-blue-50/50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:doc.user_name}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:doc.title}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:new Date(doc.upload_datetime).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:doc.is_viewed,onChange:e=>handleSave(doc.id,e.target.checked)})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"textarea\",{value:editComments[doc.id]!==undefined?editComments[doc.id]:doc.admin_comment||'',onChange:e=>handleCommentChange(doc.id,e.target.value),className:\"border p-1 rounded w-32 focus:ring-2 focus:ring-blue-200\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2 flex gap-2 items-center\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-blue-500 underline\",onClick:()=>handleDownloadFile(doc),children:\"Download\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-blue-600 underline hover:text-blue-800 font-medium\",onClick:()=>handleViewFile(doc),children:\"View\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 transition\",onClick:()=>handleSave(doc.id,doc.is_viewed),type:\"button\",children:\"Save\"})})]},doc.id))})]})})}),viewFile&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-xl p-6 max-w-2xl w-full relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl font-bold\",onClick:()=>{URL.revokeObjectURL(viewFile.url);setViewFile(null);},children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-4 text-blue-700\",children:viewFile.title}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-[70vh] flex items-center justify-center bg-gray-100 rounded\",children:viewFile.type&&viewFile.type.startsWith('image')?/*#__PURE__*/_jsx(\"img\",{src:viewFile.url,alt:viewFile.title,className:\"max-h-full max-w-full rounded shadow\"}):viewFile.type&&viewFile.type==='application/pdf'?/*#__PURE__*/_jsx(\"iframe\",{src:viewFile.url,title:viewFile.title,className:\"w-full h-full rounded border\",frameBorder:\"0\"}):/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:\"Preview not available for this file type.\"})})]})})]})});}","map":{"version":3,"names":["React","useEffect","useState","axios","getToken","toast","Layout","jsx","_jsx","jsxs","_jsxs","AdminDashboard","docs","setDocs","loading","setLoading","error","setError","success","setSuccess","filterUser","setFilterUser","filterStart","setFilterStart","filterEnd","setFilterEnd","viewFile","setViewFile","editComments","setEditComments","fetchDocs","filters","arguments","length","undefined","token","params","user_name","start_date","end_date","res","get","headers","Authorization","data","err","handleFilter","e","preventDefault","handleCommentChange","docId","value","prev","handleSave","is_viewed","put","admin_comment","handleViewFile","doc","fetch","id","ok","Error","contentType","blob","url","URL","createObjectURL","title","type","handleDownloadFile","window","a","document","createElement","href","download","filename","body","appendChild","click","remove","revokeObjectURL","children","className","onSubmit","placeholder","onChange","target","map","Date","upload_datetime","toLocaleString","checked","onClick","startsWith","src","alt","frameBorder"],"sources":["/home/sarveesh-kaarthic-ramesh-kannan/Docky/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { getToken } from '../utils/auth';\nimport { toast } from 'react-toastify';\nimport Layout from '../components/Layout';\n\nexport default function AdminDashboard() {\n  const [docs, setDocs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  // Filter states\n  const [filterUser, setFilterUser] = useState('');\n  const [filterStart, setFilterStart] = useState('');\n  const [filterEnd, setFilterEnd] = useState('');\n  const [viewFile, setViewFile] = useState(null); // { url, title, type }\n  const [editComments, setEditComments] = useState({}); // { [docId]: comment }\n\n  useEffect(() => {\n    fetchDocs();\n  }, []);\n\n  const fetchDocs = async (filters = {}) => {\n    setLoading(true);\n    try {\n      const token = getToken();\n      if (!token) {\n        toast.error('Session expired. Please log in again.');\n        setLoading(false);\n        return;\n      }\n      // Build query params\n      const params = {};\n      if (filters.user_name) params.user_name = filters.user_name;\n      if (filters.start_date) params.start_date = filters.start_date;\n      if (filters.end_date) params.end_date = filters.end_date;\n      const res = await axios.get('/api/admin/documents', {\n        headers: { Authorization: `Bearer ${token}` },\n        params\n      });\n      setDocs(res.data);\n    } catch (err) {\n      toast.error('Failed to fetch documents');\n    }\n    setLoading(false);\n  };\n\n  const handleFilter = (e) => {\n    e.preventDefault();\n    fetchDocs({\n      user_name: filterUser,\n      start_date: filterStart,\n      end_date: filterEnd\n    });\n  };\n\n  const handleCommentChange = (docId, value) => {\n    setEditComments(prev => ({ ...prev, [docId]: value }));\n  };\n\n  const handleSave = async (docId, is_viewed) => {\n    setLoading(true);\n    try {\n      const token = getToken();\n      if (!token) {\n        toast.error('Session expired. Please log in again.');\n        setLoading(false);\n        return;\n      }\n      await axios.put(`/api/admin/documents/${docId}`, { is_viewed, admin_comment: editComments[docId] }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      toast.success('Saved!');\n      fetchDocs({\n        user_name: filterUser,\n        start_date: filterStart,\n        end_date: filterEnd\n      });\n    } catch (err) {\n      toast.error('Update failed');\n    }\n    setLoading(false);\n  };\n\n  const handleViewFile = async (doc) => {\n    setLoading(true);\n    try {\n      const token = getToken();\n      const res = await fetch(`/api/documents/view/${doc.id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      if (!res.ok) throw new Error('Failed to fetch file');\n      const contentType = res.headers.get('Content-Type');\n      const blob = await res.blob();\n      const url = URL.createObjectURL(blob);\n      setViewFile({ url, title: doc.title, type: contentType });\n    } catch (err) {\n      toast.error('Could not preview file');\n    }\n    setLoading(false);\n  };\n\n  const handleDownloadFile = async (doc) => {\n    setLoading(true);\n    try {\n      const token = getToken();\n      const res = await fetch(`/api/documents/download/${doc.id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      if (!res.ok) throw new Error('Failed to download file');\n      const blob = await res.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = doc.filename || doc.title;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      toast.error('Could not download file');\n    }\n    setLoading(false);\n  };\n\n  return (\n    <Layout>\n      <div className=\"space-y-6\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-2xl font-bold text-blue-700\">Admin Dashboard</h2>\n          <a href=\"/admin/deadline\" className=\"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600 transition\">Set Deadline</a>\n        </div>\n        {/* Filter Controls */}\n        <form className=\"flex flex-wrap gap-2 bg-white p-4 rounded-xl shadow border border-blue-100 mb-4\" onSubmit={handleFilter}>\n          <input type=\"text\" placeholder=\"User Name\" value={filterUser} onChange={e => setFilterUser(e.target.value)} className=\"p-2 border rounded focus:ring-2 focus:ring-blue-200\" />\n          <input type=\"date\" value={filterStart} onChange={e => setFilterStart(e.target.value)} className=\"p-2 border rounded focus:ring-2 focus:ring-blue-200\" />\n          <input type=\"date\" value={filterEnd} onChange={e => setFilterEnd(e.target.value)} className=\"p-2 border rounded focus:ring-2 focus:ring-blue-200\" />\n          <button type=\"submit\" className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold transition\">Filter</button>\n        </form>\n        <div className=\"bg-white p-6 rounded-xl shadow-lg border border-blue-100\">\n          {loading ? <div>Loading...</div> : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm text-left\">\n                <thead className=\"bg-blue-50\">\n                  <tr>\n                    <th className=\"p-2 font-semibold\">User</th>\n                    <th className=\"p-2 font-semibold\">Title</th>\n                    <th className=\"p-2 font-semibold\">Uploaded</th>\n                    <th className=\"p-2 font-semibold\">Viewed</th>\n                    <th className=\"p-2 font-semibold\">Comment</th>\n                    <th className=\"p-2 font-semibold\">File</th>\n                    <th className=\"p-2 font-semibold\">Action</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {docs.map(doc => (\n                    <tr key={doc.id} className=\"border-b last:border-0 hover:bg-blue-50/50\">\n                      <td className=\"p-2\">{doc.user_name}</td>\n                      <td className=\"p-2\">{doc.title}</td>\n                      <td className=\"p-2\">{new Date(doc.upload_datetime).toLocaleString()}</td>\n                      <td className=\"p-2\">\n                        <input type=\"checkbox\" checked={doc.is_viewed} onChange={e => handleSave(doc.id, e.target.checked)} />\n                      </td>\n                      <td className=\"p-2\">\n                        <textarea\n                          value={editComments[doc.id] !== undefined ? editComments[doc.id] : doc.admin_comment || ''}\n                          onChange={e => handleCommentChange(doc.id, e.target.value)}\n                          className=\"border p-1 rounded w-32 focus:ring-2 focus:ring-blue-200\"\n                        />\n                      </td>\n                      <td className=\"p-2 flex gap-2 items-center\">\n                        <button\n                          type=\"button\"\n                          className=\"text-blue-500 underline\"\n                          onClick={() => handleDownloadFile(doc)}\n                        >\n                          Download\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"text-blue-600 underline hover:text-blue-800 font-medium\"\n                          onClick={() => handleViewFile(doc)}\n                        >\n                          View\n                        </button>\n                      </td>\n                      <td className=\"p-2\">\n                        <button\n                          className=\"bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 transition\"\n                          onClick={() => handleSave(doc.id, doc.is_viewed)}\n                          type=\"button\"\n                        >\n                          Save\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n        {/* File Preview Modal */}\n        {viewFile && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\n            <div className=\"bg-white rounded-xl shadow-xl p-6 max-w-2xl w-full relative\">\n              <button\n                className=\"absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl font-bold\"\n                onClick={() => {\n                  URL.revokeObjectURL(viewFile.url);\n                  setViewFile(null);\n                }}\n              >\n                ×\n              </button>\n              <h3 className=\"text-lg font-bold mb-4 text-blue-700\">{viewFile.title}</h3>\n              <div className=\"w-full h-[70vh] flex items-center justify-center bg-gray-100 rounded\">\n                {viewFile.type && viewFile.type.startsWith('image') ? (\n                  <img src={viewFile.url} alt={viewFile.title} className=\"max-h-full max-w-full rounded shadow\" />\n                ) : viewFile.type && viewFile.type === 'application/pdf' ? (\n                  <iframe src={viewFile.url} title={viewFile.title} className=\"w-full h-full rounded border\" frameBorder=\"0\" />\n                ) : (\n                  <div className=\"text-gray-500\">Preview not available for this file type.</div>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}