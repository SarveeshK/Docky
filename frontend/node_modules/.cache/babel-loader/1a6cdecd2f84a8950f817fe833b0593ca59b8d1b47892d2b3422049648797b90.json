{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{toast}from'react-toastify';import Layout from'../components/Layout';import{FaEye,FaEyeSlash,FaEnvelope,FaLock,FaUser}from'react-icons/fa';import{useLoading}from'../components/LoadingContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(){const{setLoading}=useLoading();const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[userType,setUserType]=useState('user');const[error,setError]=useState('');const[success,setSuccess]=useState('');const[showPassword,setShowPassword]=useState(false);const[inputFocus,setInputFocus]=useState({name:false,email:false,password:false});const handleSignup=async e=>{e.preventDefault();setLoading(true);try{await axios.post('/api/auth/signup',{name,email,password,user_type:userType});setLoading(false);toast.success('Signup successful! You can login now.',{className:'bg-green-50 text-green-800 font-semibold'});setTimeout(()=>window.location.href='/',1200);}catch(err){var _err$response,_err$response$data;setLoading(false);const errorMsg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Signup failed';toast.error(errorMsg,{className:'bg-red-50 text-red-800 font-semibold'});}};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-[60vh]\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"bg-white p-10 rounded-2xl shadow-2xl w-96 flex flex-col gap-6 border border-blue-100\",onSubmit:handleSignup,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-extrabold mb-2 text-blue-700 text-center tracking-tight\",children:\"Create your Docky account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full\",children:[/*#__PURE__*/_jsx(FaUser,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-blue-400 ${inputFocus.name?'text-blue-600':''}`}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\" \",value:name,onChange:e=>setName(e.target.value),onFocus:()=>setInputFocus(f=>({...f,name:true})),onBlur:()=>setInputFocus(f=>({...f,name:false})),className:\"w-full p-2 pl-10 border rounded focus:ring-2 focus:ring-blue-200 peer\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:`absolute left-10 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none transition-all duration-200\n              ${name?'-top-4 text-xs text-blue-600':'peer-focus:-top-4 peer-focus:text-xs peer-focus:text-blue-600 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400'}`,children:\"Name\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full\",children:[/*#__PURE__*/_jsx(FaEnvelope,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-blue-400 ${inputFocus.email?'text-blue-600':''}`}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\" \",value:email,onChange:e=>setEmail(e.target.value),onFocus:()=>setInputFocus(f=>({...f,email:true})),onBlur:()=>setInputFocus(f=>({...f,email:false})),className:\"w-full p-2 pl-10 border rounded focus:ring-2 focus:ring-blue-200 peer\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:`absolute left-10 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none transition-all duration-200\n              ${email?'-top-4 text-xs text-blue-600':'peer-focus:-top-4 peer-focus:text-xs peer-focus:text-blue-600 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400'}`,children:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full\",children:[/*#__PURE__*/_jsx(FaLock,{className:`absolute left-3 top-1/2 -translate-y-1/2 text-blue-400 ${inputFocus.password?'text-blue-600':''}`}),/*#__PURE__*/_jsx(\"input\",{type:showPassword?\"text\":\"password\",placeholder:\" \",value:password,onChange:e=>setPassword(e.target.value),onFocus:()=>setInputFocus(f=>({...f,password:true})),onBlur:()=>setInputFocus(f=>({...f,password:false})),className:\"w-full p-2 pl-10 border rounded focus:ring-2 focus:ring-blue-200 pr-10 peer\",required:true}),/*#__PURE__*/_jsx(\"label\",{className:`absolute left-10 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none transition-all duration-200\n              ${password?'-top-4 text-xs text-blue-600':'peer-focus:-top-4 peer-focus:text-xs peer-focus:text-blue-600 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400'}`,children:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"absolute right-2 top-1/2 -translate-y-1/2 text-blue-500 hover:text-blue-700 focus:outline-none\",onClick:()=>setShowPassword(v=>!v),tabIndex:-1,children:showPassword?/*#__PURE__*/_jsx(FaEyeSlash,{}):/*#__PURE__*/_jsx(FaEye,{})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded font-semibold transition shadow-card\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-center\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"text-blue-500 hover:underline\",children:\"Login\"})})]})})});}","map":{"version":3,"names":["React","useState","axios","toast","Layout","FaEye","FaEyeSlash","FaEnvelope","FaLock","FaUser","useLoading","jsx","_jsx","jsxs","_jsxs","Signup","setLoading","name","setName","email","setEmail","password","setPassword","userType","setUserType","error","setError","success","setSuccess","showPassword","setShowPassword","inputFocus","setInputFocus","handleSignup","e","preventDefault","post","user_type","className","setTimeout","window","location","href","err","_err$response","_err$response$data","errorMsg","response","data","children","onSubmit","type","placeholder","value","onChange","target","onFocus","f","onBlur","required","onClick","v","tabIndex"],"sources":["/home/sarveesh-kaarthic-ramesh-kannan/Docky/frontend/src/pages/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport Layout from '../components/Layout';\nimport { FaEye, FaEyeSlash, FaEnvelope, FaLock, FaUser } from 'react-icons/fa';\nimport { useLoading } from '../components/LoadingContext';\n\nexport default function Signup() {\n  const { setLoading } = useLoading();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [userType, setUserType] = useState('user');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [inputFocus, setInputFocus] = useState({ name: false, email: false, password: false });\n\n  const handleSignup = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      await axios.post('/api/auth/signup', { name, email, password, user_type: userType });\n      setLoading(false);\n      toast.success('Signup successful! You can login now.', { className: 'bg-green-50 text-green-800 font-semibold' });\n      setTimeout(() => window.location.href = '/', 1200);\n    } catch (err) {\n      setLoading(false);\n      const errorMsg = err.response?.data?.error || 'Signup failed';\n      toast.error(errorMsg, { className: 'bg-red-50 text-red-800 font-semibold' });\n    }\n  };\n\n  return (\n    <Layout>\n      <div className=\"flex items-center justify-center min-h-[60vh]\">\n        <form className=\"bg-white p-10 rounded-2xl shadow-2xl w-96 flex flex-col gap-6 border border-blue-100\" onSubmit={handleSignup}>\n          <h2 className=\"text-3xl font-extrabold mb-2 text-blue-700 text-center tracking-tight\">Create your Docky account</h2>\n          <div className=\"relative w-full\">\n            <FaUser className={`absolute left-3 top-1/2 -translate-y-1/2 text-blue-400 ${inputFocus.name ? 'text-blue-600' : ''}`} />\n            <input\n              type=\"text\"\n              placeholder=\" \"\n              value={name}\n              onChange={e => setName(e.target.value)}\n              onFocus={() => setInputFocus(f => ({ ...f, name: true }))}\n              onBlur={() => setInputFocus(f => ({ ...f, name: false }))}\n              className=\"w-full p-2 pl-10 border rounded focus:ring-2 focus:ring-blue-200 peer\"\n              required\n            />\n            <label className={`absolute left-10 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none transition-all duration-200\n              ${name ? '-top-4 text-xs text-blue-600' : 'peer-focus:-top-4 peer-focus:text-xs peer-focus:text-blue-600 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400'}`}>Name</label>\n          </div>\n          <div className=\"relative w-full\">\n            <FaEnvelope className={`absolute left-3 top-1/2 -translate-y-1/2 text-blue-400 ${inputFocus.email ? 'text-blue-600' : ''}`} />\n            <input\n              type=\"email\"\n              placeholder=\" \"\n              value={email}\n              onChange={e => setEmail(e.target.value)}\n              onFocus={() => setInputFocus(f => ({ ...f, email: true }))}\n              onBlur={() => setInputFocus(f => ({ ...f, email: false }))}\n              className=\"w-full p-2 pl-10 border rounded focus:ring-2 focus:ring-blue-200 peer\"\n              required\n            />\n            <label className={`absolute left-10 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none transition-all duration-200\n              ${email ? '-top-4 text-xs text-blue-600' : 'peer-focus:-top-4 peer-focus:text-xs peer-focus:text-blue-600 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400'}`}>Email</label>\n          </div>\n          <div className=\"relative w-full\">\n            <FaLock className={`absolute left-3 top-1/2 -translate-y-1/2 text-blue-400 ${inputFocus.password ? 'text-blue-600' : ''}`} />\n            <input\n              type={showPassword ? \"text\" : \"password\"}\n              placeholder=\" \"\n              value={password}\n              onChange={e => setPassword(e.target.value)}\n              onFocus={() => setInputFocus(f => ({ ...f, password: true }))}\n              onBlur={() => setInputFocus(f => ({ ...f, password: false }))}\n              className=\"w-full p-2 pl-10 border rounded focus:ring-2 focus:ring-blue-200 pr-10 peer\"\n              required\n            />\n            <label className={`absolute left-10 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none transition-all duration-200\n              ${password ? '-top-4 text-xs text-blue-600' : 'peer-focus:-top-4 peer-focus:text-xs peer-focus:text-blue-600 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400'}`}>Password</label>\n            <button\n              type=\"button\"\n              className=\"absolute right-2 top-1/2 -translate-y-1/2 text-blue-500 hover:text-blue-700 focus:outline-none\"\n              onClick={() => setShowPassword((v) => !v)}\n              tabIndex={-1}\n            >\n              {showPassword ? <FaEyeSlash /> : <FaEye />}\n            </button>\n          </div>\n          <button type=\"submit\" className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded font-semibold transition shadow-card\">Sign Up</button>\n          <div className=\"mt-2 text-center\">\n            <a href=\"/\" className=\"text-blue-500 hover:underline\">Login</a>\n          </div>\n        </form>\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}