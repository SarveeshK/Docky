{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import{getToken}from'../utils/auth';import{toast}from'react-toastify';import Layout from'../components/Layout';import{FaFileImage,FaFilePdf,FaFileAlt,FaFileAudio,FaFileVideo,FaFileArchive,FaFile}from'react-icons/fa';import{FaFileUpload,FaCloudDownloadAlt,FaCommentDots}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Badge(_ref){let{children,color}=_ref;const colorMap={reviewed:'bg-green-100 text-green-700',pending:'bg-yellow-100 text-yellow-700',default:'bg-gray-100 text-gray-700'};return/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 rounded text-xs font-semibold ${colorMap[color]||colorMap.default}`,children:children});}function Spinner(){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin\"})});}function timeAgo(dateString){const now=new Date();const date=new Date(dateString);const diff=Math.floor((now-date)/1000);// in seconds\nif(diff<60)return`${diff} seconds ago`;if(diff<3600)return`${Math.floor(diff/60)} minutes ago`;if(diff<86400)return`${Math.floor(diff/3600)} hours ago`;return date.toLocaleString();}function BackToTopButton(){const[visible,setVisible]=useState(false);useEffect(()=>{const onScroll=()=>setVisible(window.scrollY>200);window.addEventListener('scroll',onScroll);return()=>window.removeEventListener('scroll',onScroll);},[]);if(!visible)return null;return/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.scrollTo({top:0,behavior:'smooth'}),className:\"fixed bottom-8 right-8 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition z-50\",title:\"Back to Top\",children:\"\\u2191\"});}function highlightMatch(text,search){if(!search)return text;const parts=text.split(new RegExp(`(${search})`,'gi'));return parts.map((part,i)=>part.toLowerCase()===search.toLowerCase()?/*#__PURE__*/_jsx(\"span\",{className:\"bg-yellow-200 text-blue-900 font-bold\",children:part},i):part);}export default function AdminDashboard(){const[docs,setDocs]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');// Filter states\nconst[filterUser,setFilterUser]=useState('');const[filterStart,setFilterStart]=useState('');const[filterEnd,setFilterEnd]=useState('');const[search,setSearch]=useState('');const[viewFile,setViewFile]=useState(null);// { url, title, type }\nconst[editComments,setEditComments]=useState({});// { [docId]: comment }\nconst[editTitle,setEditTitle]=useState({});const[editingTitleId,setEditingTitleId]=useState(null);const[filterType,setFilterType]=useState('');const[filterStatus,setFilterStatus]=useState('');const[showConfirm,setShowConfirm]=useState(false);const[confirmAction,setConfirmAction]=useState(()=>()=>{});useEffect(()=>{fetchDocs();},[]);const fetchDocs=async function(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};setLoading(true);try{const token=getToken();if(!token){toast.error('Session expired. Please log in again.',{className:'bg-red-50 text-red-800 font-semibold'});setLoading(false);return;}// Build query params\nconst params={};if(filters.user_name)params.user_name=filters.user_name;if(filters.start_date)params.start_date=filters.start_date;if(filters.end_date)params.end_date=filters.end_date;if(filters.file_type)params.file_type=filters.file_type;if(filters.status)params.status=filters.status;const res=await axios.get('/api/admin/documents',{headers:{Authorization:`Bearer ${token}`},params});setDocs(res.data);}catch(err){toast.error('Failed to fetch documents',{className:'bg-red-50 text-red-800 font-semibold'});}setLoading(false);};const handleFilter=e=>{e.preventDefault();fetchDocs({user_name:filterUser,start_date:filterStart,end_date:filterEnd,file_type:filterType,status:filterStatus});};const handleCommentChange=(docId,value)=>{setEditComments(prev=>({...prev,[docId]:value}));};const handleSave=async(docId,is_viewed)=>{setLoading(true);try{const token=getToken();if(!token){toast.error('Session expired. Please log in again.',{className:'bg-red-50 text-red-800 font-semibold'});setLoading(false);return;}await axios.put(`/api/admin/documents/${docId}`,{is_viewed,admin_comment:editComments[docId]},{headers:{Authorization:`Bearer ${token}`}});toast.success('Saved!',{className:'bg-green-50 text-green-800 font-semibold'});fetchDocs({user_name:filterUser,start_date:filterStart,end_date:filterEnd,file_type:filterType,status:filterStatus});}catch(err){toast.error('Update failed',{className:'bg-red-50 text-red-800 font-semibold'});}setLoading(false);};const handleViewFile=async doc=>{setLoading(true);try{const token=getToken();const res=await fetch(`/api/documents/view/${doc.id}`,{headers:{Authorization:`Bearer ${token}`}});if(!res.ok)throw new Error('Failed to fetch file');const contentType=res.headers.get('Content-Type');const blob=await res.blob();const url=URL.createObjectURL(blob);setViewFile({url,title:doc.title,type:contentType});}catch(err){toast.error('Could not preview file',{className:'bg-red-50 text-red-800 font-semibold'});}setLoading(false);};const handleDownloadFile=async doc=>{setLoading(true);try{const token=getToken();const res=await fetch(`/api/documents/download/${doc.id}`,{headers:{Authorization:`Bearer ${token}`}});if(!res.ok)throw new Error('Failed to download file');const blob=await res.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=doc.filename||doc.title;document.body.appendChild(a);a.click();a.remove();window.URL.revokeObjectURL(url);}catch(err){toast.error('Could not download file',{className:'bg-red-50 text-red-800 font-semibold'});}setLoading(false);};const handleDelete=doc=>{setShowConfirm(true);setConfirmAction(()=>async()=>{setShowConfirm(false);setLoading(true);try{const token=getToken();await axios.delete(`/api/admin/documents/${doc.id}`,{headers:{Authorization:`Bearer ${token}`}});toast.success('Document deleted!',{className:'bg-green-50 text-green-800 font-semibold'});fetchDocs();}catch(err){toast.error('Delete failed',{className:'bg-red-50 text-red-800 font-semibold'});}setLoading(false);});};// Summary calculations\nconst totalDocs=docs.length;const today=new Date();const docsToday=docs.filter(doc=>{const d=new Date(doc.upload_datetime);return d.toDateString()===today.toDateString();}).length;const reviewed=docs.filter(doc=>doc.is_viewed).length;const pending=docs.filter(doc=>!doc.is_viewed).length;// Search filter\nconst filteredDocs=docs.filter(doc=>(doc.title.toLowerCase().includes(search.toLowerCase())||doc.user_name&&doc.user_name.toLowerCase().includes(search.toLowerCase()))&&(!filterType||filterType==='image'&&doc.file_type&&doc.file_type.startsWith('image')||filterType==='pdf'&&doc.file_type==='application/pdf'||filterType==='audio'&&doc.file_type&&doc.file_type.startsWith('audio')||filterType==='video'&&doc.file_type&&doc.file_type.startsWith('video')||filterType==='text'&&doc.file_type&&doc.file_type.startsWith('text')||filterType==='zip'&&doc.file_type&&doc.file_type.includes('zip'))&&(!filterStatus||filterStatus==='reviewed'&&doc.is_viewed||filterStatus==='pending'&&!doc.is_viewed));return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col md:flex-row gap-6 items-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-blue-700\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/admin/deadline\",className:\"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600 transition\",children:\"Set Deadline\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-xl p-4 shadow-card flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-blue-700\",children:totalDocs}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-blue-900 font-semibold\",children:\"Total Documents\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 rounded-xl p-4 shadow-card flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-blue-700\",children:docsToday}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-blue-900 font-semibold\",children:\"Uploaded Today\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-xl p-4 shadow-card flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-green-700\",children:reviewed}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-green-900 font-semibold\",children:\"Reviewed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 rounded-xl p-4 shadow-card flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold text-yellow-700\",children:pending}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-yellow-900 font-semibold\",children:\"Pending\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 flex items-center gap-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by title or user...\",value:search,onChange:e=>setSearch(e.target.value),className:\"p-2 border rounded focus:ring-2 focus:ring-blue-200 w-64\"})}),/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-wrap gap-2 bg-white p-4 rounded-xl shadow border border-blue-100 mb-4\",onSubmit:handleFilter,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"User Name\",value:filterUser,onChange:e=>setFilterUser(e.target.value),className:\"p-2 border rounded focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterStart,onChange:e=>setFilterStart(e.target.value),className:\"p-2 border rounded focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:filterEnd,onChange:e=>setFilterEnd(e.target.value),className:\"p-2 border rounded focus:ring-2 focus:ring-blue-200\"}),/*#__PURE__*/_jsxs(\"select\",{value:filterType,onChange:e=>setFilterType(e.target.value),className:\"p-2 border rounded focus:ring-2 focus:ring-blue-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Types\"}),/*#__PURE__*/_jsx(\"option\",{value:\"image\",children:\"Image\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pdf\",children:\"PDF\"}),/*#__PURE__*/_jsx(\"option\",{value:\"audio\",children:\"Audio\"}),/*#__PURE__*/_jsx(\"option\",{value:\"video\",children:\"Video\"}),/*#__PURE__*/_jsx(\"option\",{value:\"text\",children:\"Text\"}),/*#__PURE__*/_jsx(\"option\",{value:\"zip\",children:\"Archive\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),className:\"p-2 border rounded focus:ring-2 focus:ring-blue-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"reviewed\",children:\"Reviewed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold transition\",children:\"Filter\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-2xl shadow-2xl border border-blue-100\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-4 text-blue-700\",children:\"All Documents\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"skeleton h-8 w-full\"},i))}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm text-left border-separate border-spacing-y-1\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-blue-50 sticky top-0 z-10\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"User\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Uploaded\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Viewed\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Comment\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"File\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 font-semibold\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredDocs.map(doc=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-b last:border-0 hover:bg-blue-50/50 transition\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:doc.user_name}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:editingTitleId===doc.id?/*#__PURE__*/_jsx(\"input\",{value:editTitle[doc.id]!==undefined?editTitle[doc.id]:doc.title,onChange:e=>setEditTitle(prev=>({...prev,[doc.id]:e.target.value})),onBlur:()=>{setEditingTitleId(null);handleSave(doc.id,doc.is_viewed,editTitle[doc.id]);},className:\"border p-1 rounded w-32 focus:ring-2 focus:ring-blue-200\",autoFocus:true}):/*#__PURE__*/_jsx(\"span\",{onClick:()=>setEditingTitleId(doc.id),className:\"cursor-pointer hover:underline\",children:doc.title})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:timeAgo(doc.upload_datetime)}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:doc.is_viewed,onChange:e=>handleSave(doc.id,e.target.checked)})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"textarea\",{value:editComments[doc.id]!==undefined?editComments[doc.id]:doc.admin_comment||'',onChange:e=>setEditComments(prev=>({...prev,[doc.id]:e.target.value})),className:\"border p-1 rounded w-32 focus:ring-2 focus:ring-blue-200\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2 flex gap-2 items-center\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-blue-500 underline\",title:\"Download document\",onClick:()=>handleDownloadFile(doc),children:\"Download\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"text-blue-600 underline hover:text-blue-800 font-medium\",title:\"View document\",onClick:()=>handleViewFile(doc),children:\"View\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:doc.is_viewed?/*#__PURE__*/_jsx(Badge,{color:\"reviewed\",children:\"Reviewed\"}):/*#__PURE__*/_jsx(Badge,{color:\"pending\",children:\"Pending\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 transition\",title:\"Save comment/status\",onClick:()=>handleSave(doc.id,doc.is_viewed),type:\"button\",children:\"Save\"})})]},doc.id))})]})})]}),viewFile&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-xl p-6 max-w-2xl w-full relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl font-bold\",onClick:()=>{URL.revokeObjectURL(viewFile.url);setViewFile(null);},children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-4 text-blue-700\",children:viewFile.title}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-[70vh] flex items-center justify-center bg-gray-100 rounded\",children:viewFile.type&&viewFile.type.startsWith('image')?/*#__PURE__*/_jsx(\"img\",{src:viewFile.url,alt:viewFile.title,className:\"max-h-full max-w-full rounded shadow\"}):viewFile.type&&viewFile.type==='application/pdf'?/*#__PURE__*/_jsx(\"iframe\",{src:viewFile.url,title:viewFile.title,className:\"w-full h-full rounded border\",frameBorder:\"0\"}):viewFile.type&&(viewFile.type.startsWith('text')||viewFile.type==='application/json'||viewFile.type==='application/xml'||viewFile.type==='text/csv')?/*#__PURE__*/_jsx(\"iframe\",{src:viewFile.url,title:viewFile.title,className:\"w-full h-full rounded border bg-white\",frameBorder:\"0\"}):viewFile.type&&viewFile.type.startsWith('audio')?/*#__PURE__*/_jsx(\"audio\",{controls:true,src:viewFile.url,className:\"w-full\"}):viewFile.type&&viewFile.type.startsWith('video')?/*#__PURE__*/_jsx(\"video\",{controls:true,src:viewFile.url,className:\"max-h-full max-w-full rounded shadow bg-black\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-gray-500 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Preview not available for this file type.\"}),/*#__PURE__*/_jsx(\"a\",{href:viewFile.url,download:viewFile.title,className:\"text-blue-600 underline mt-2 inline-block\",children:\"Download file\"})]})})]})}),showConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-xl p-6 max-w-sm w-full relative animate-fadein\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold mb-4 text-blue-700\",children:\"Are you sure?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-6\",children:\"This action cannot be undone.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 justify-end\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowConfirm(false),className:\"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmAction,className:\"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700\",children:\"Confirm\"})]})]})})]}),/*#__PURE__*/_jsx(BackToTopButton,{})]})})});}","map":{"version":3,"names":["React","useEffect","useState","axios","getToken","toast","Layout","FaFileImage","FaFilePdf","FaFileAlt","FaFileAudio","FaFileVideo","FaFileArchive","FaFile","FaFileUpload","FaCloudDownloadAlt","FaCommentDots","jsx","_jsx","jsxs","_jsxs","Badge","_ref","children","color","colorMap","reviewed","pending","default","className","Spinner","timeAgo","dateString","now","Date","date","diff","Math","floor","toLocaleString","BackToTopButton","visible","setVisible","onScroll","window","scrollY","addEventListener","removeEventListener","onClick","scrollTo","top","behavior","title","highlightMatch","text","search","parts","split","RegExp","map","part","i","toLowerCase","AdminDashboard","docs","setDocs","loading","setLoading","error","setError","success","setSuccess","filterUser","setFilterUser","filterStart","setFilterStart","filterEnd","setFilterEnd","setSearch","viewFile","setViewFile","editComments","setEditComments","editTitle","setEditTitle","editingTitleId","setEditingTitleId","filterType","setFilterType","filterStatus","setFilterStatus","showConfirm","setShowConfirm","confirmAction","setConfirmAction","fetchDocs","filters","arguments","length","undefined","token","params","user_name","start_date","end_date","file_type","status","res","get","headers","Authorization","data","err","handleFilter","e","preventDefault","handleCommentChange","docId","value","prev","handleSave","is_viewed","put","admin_comment","handleViewFile","doc","fetch","id","ok","Error","contentType","blob","url","URL","createObjectURL","type","handleDownloadFile","a","document","createElement","href","download","filename","body","appendChild","click","remove","revokeObjectURL","handleDelete","delete","totalDocs","today","docsToday","filter","d","upload_datetime","toDateString","filteredDocs","includes","startsWith","placeholder","onChange","target","onSubmit","Array","_","onBlur","autoFocus","checked","src","alt","frameBorder","controls"],"sources":["/home/sarveesh-kaarthic-ramesh-kannan/Docky/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { getToken } from '../utils/auth';\nimport { toast } from 'react-toastify';\nimport Layout from '../components/Layout';\nimport { FaFileImage, FaFilePdf, FaFileAlt, FaFileAudio, FaFileVideo, FaFileArchive, FaFile } from 'react-icons/fa';\nimport { FaFileUpload, FaCloudDownloadAlt, FaCommentDots } from 'react-icons/fa';\n\nfunction Badge({ children, color }) {\n  const colorMap = {\n    reviewed: 'bg-green-100 text-green-700',\n    pending: 'bg-yellow-100 text-yellow-700',\n    default: 'bg-gray-100 text-gray-700',\n  };\n  return (\n    <span className={`px-2 py-1 rounded text-xs font-semibold ${colorMap[color] || colorMap.default}`}>{children}</span>\n  );\n}\n\nfunction Spinner() {\n  return (\n    <div className=\"flex justify-center items-center py-8\">\n      <div className=\"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin\"></div>\n    </div>\n  );\n}\n\nfunction timeAgo(dateString) {\n  const now = new Date();\n  const date = new Date(dateString);\n  const diff = Math.floor((now - date) / 1000); // in seconds\n  if (diff < 60) return `${diff} seconds ago`;\n  if (diff < 3600) return `${Math.floor(diff / 60)} minutes ago`;\n  if (diff < 86400) return `${Math.floor(diff / 3600)} hours ago`;\n  return date.toLocaleString();\n}\n\nfunction BackToTopButton() {\n  const [visible, setVisible] = useState(false);\n  useEffect(() => {\n    const onScroll = () => setVisible(window.scrollY > 200);\n    window.addEventListener('scroll', onScroll);\n    return () => window.removeEventListener('scroll', onScroll);\n  }, []);\n  if (!visible) return null;\n  return (\n    <button\n      onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}\n      className=\"fixed bottom-8 right-8 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition z-50\"\n      title=\"Back to Top\"\n    >\n      ↑\n    </button>\n  );\n}\n\nfunction highlightMatch(text, search) {\n  if (!search) return text;\n  const parts = text.split(new RegExp(`(${search})`, 'gi'));\n  return parts.map((part, i) =>\n    part.toLowerCase() === search.toLowerCase() ? <span key={i} className=\"bg-yellow-200 text-blue-900 font-bold\">{part}</span> : part\n  );\n}\n\nexport default function AdminDashboard() {\n  const [docs, setDocs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  // Filter states\n  const [filterUser, setFilterUser] = useState('');\n  const [filterStart, setFilterStart] = useState('');\n  const [filterEnd, setFilterEnd] = useState('');\n  const [search, setSearch] = useState('');\n  const [viewFile, setViewFile] = useState(null); // { url, title, type }\n  const [editComments, setEditComments] = useState({}); // { [docId]: comment }\n  const [editTitle, setEditTitle] = useState({});\n  const [editingTitleId, setEditingTitleId] = useState(null);\n  const [filterType, setFilterType] = useState('');\n  const [filterStatus, setFilterStatus] = useState('');\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [confirmAction, setConfirmAction] = useState(() => () => {});\n\n  useEffect(() => {\n    fetchDocs();\n  }, []);\n\n  const fetchDocs = async (filters = {}) => {\n    setLoading(true);\n    try {\n      const token = getToken();\n      if (!token) {\n        toast.error('Session expired. Please log in again.', { className: 'bg-red-50 text-red-800 font-semibold' });\n        setLoading(false);\n        return;\n      }\n      // Build query params\n      const params = {};\n      if (filters.user_name) params.user_name = filters.user_name;\n      if (filters.start_date) params.start_date = filters.start_date;\n      if (filters.end_date) params.end_date = filters.end_date;\n      if (filters.file_type) params.file_type = filters.file_type;\n      if (filters.status) params.status = filters.status;\n      const res = await axios.get('/api/admin/documents', {\n        headers: { Authorization: `Bearer ${token}` },\n        params\n      });\n      setDocs(res.data);\n    } catch (err) {\n      toast.error('Failed to fetch documents', { className: 'bg-red-50 text-red-800 font-semibold' });\n    }\n    setLoading(false);\n  };\n\n  const handleFilter = (e) => {\n    e.preventDefault();\n    fetchDocs({\n      user_name: filterUser,\n      start_date: filterStart,\n      end_date: filterEnd,\n      file_type: filterType,\n      status: filterStatus\n    });\n  };\n\n  const handleCommentChange = (docId, value) => {\n    setEditComments(prev => ({ ...prev, [docId]: value }));\n  };\n\n  const handleSave = async (docId, is_viewed) => {\n    setLoading(true);\n    try {\n      const token = getToken();\n      if (!token) {\n        toast.error('Session expired. Please log in again.', { className: 'bg-red-50 text-red-800 font-semibold' });\n        setLoading(false);\n        return;\n      }\n      await axios.put(`/api/admin/documents/${docId}`, { is_viewed, admin_comment: editComments[docId] }, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      toast.success('Saved!', { className: 'bg-green-50 text-green-800 font-semibold' });\n      fetchDocs({\n        user_name: filterUser,\n        start_date: filterStart,\n        end_date: filterEnd,\n        file_type: filterType,\n        status: filterStatus\n      });\n    } catch (err) {\n      toast.error('Update failed', { className: 'bg-red-50 text-red-800 font-semibold' });\n    }\n    setLoading(false);\n  };\n\n  const handleViewFile = async (doc) => {\n    setLoading(true);\n    try {\n      const token = getToken();\n      const res = await fetch(`/api/documents/view/${doc.id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      if (!res.ok) throw new Error('Failed to fetch file');\n      const contentType = res.headers.get('Content-Type');\n      const blob = await res.blob();\n      const url = URL.createObjectURL(blob);\n      setViewFile({ url, title: doc.title, type: contentType });\n    } catch (err) {\n      toast.error('Could not preview file', { className: 'bg-red-50 text-red-800 font-semibold' });\n    }\n    setLoading(false);\n  };\n\n  const handleDownloadFile = async (doc) => {\n    setLoading(true);\n    try {\n      const token = getToken();\n      const res = await fetch(`/api/documents/download/${doc.id}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      if (!res.ok) throw new Error('Failed to download file');\n      const blob = await res.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = doc.filename || doc.title;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      toast.error('Could not download file', { className: 'bg-red-50 text-red-800 font-semibold' });\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = (doc) => {\n    setShowConfirm(true);\n    setConfirmAction(() => async () => {\n      setShowConfirm(false);\n      setLoading(true);\n      try {\n        const token = getToken();\n        await axios.delete(`/api/admin/documents/${doc.id}`, { headers: { Authorization: `Bearer ${token}` } });\n        toast.success('Document deleted!', { className: 'bg-green-50 text-green-800 font-semibold' });\n        fetchDocs();\n      } catch (err) {\n        toast.error('Delete failed', { className: 'bg-red-50 text-red-800 font-semibold' });\n      }\n      setLoading(false);\n    });\n  };\n\n  // Summary calculations\n  const totalDocs = docs.length;\n  const today = new Date();\n  const docsToday = docs.filter(doc => {\n    const d = new Date(doc.upload_datetime);\n    return d.toDateString() === today.toDateString();\n  }).length;\n  const reviewed = docs.filter(doc => doc.is_viewed).length;\n  const pending = docs.filter(doc => !doc.is_viewed).length;\n\n  // Search filter\n  const filteredDocs = docs.filter(doc =>\n    (doc.title.toLowerCase().includes(search.toLowerCase()) ||\n      (doc.user_name && doc.user_name.toLowerCase().includes(search.toLowerCase()))) &&\n    (!filterType || (filterType === 'image' && doc.file_type && doc.file_type.startsWith('image')) ||\n      (filterType === 'pdf' && doc.file_type === 'application/pdf') ||\n      (filterType === 'audio' && doc.file_type && doc.file_type.startsWith('audio')) ||\n      (filterType === 'video' && doc.file_type && doc.file_type.startsWith('video')) ||\n      (filterType === 'text' && doc.file_type && doc.file_type.startsWith('text')) ||\n      (filterType === 'zip' && doc.file_type && doc.file_type.includes('zip'))) &&\n    (!filterStatus || (filterStatus === 'reviewed' && doc.is_viewed) || (filterStatus === 'pending' && !doc.is_viewed))\n  );\n\n  return (\n    <Layout>\n      <div className=\"flex flex-col md:flex-row gap-6 items-start\">\n        <div className=\"flex-1 w-full\">\n          <div className=\"space-y-8\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-3xl font-bold text-blue-700\">Admin Dashboard</h2>\n              <a href=\"/admin/deadline\" className=\"bg-blue-500 text-white px-4 py-2 rounded shadow hover:bg-blue-600 transition\">Set Deadline</a>\n            </div>\n            {/* Summary Cards */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mb-4\">\n              <div className=\"bg-blue-50 rounded-xl p-4 shadow-card flex flex-col items-center\">\n                <span className=\"text-2xl font-bold text-blue-700\">{totalDocs}</span>\n                <span className=\"text-xs text-blue-900 font-semibold\">Total Documents</span>\n              </div>\n              <div className=\"bg-blue-50 rounded-xl p-4 shadow-card flex flex-col items-center\">\n                <span className=\"text-2xl font-bold text-blue-700\">{docsToday}</span>\n                <span className=\"text-xs text-blue-900 font-semibold\">Uploaded Today</span>\n              </div>\n              <div className=\"bg-green-50 rounded-xl p-4 shadow-card flex flex-col items-center\">\n                <span className=\"text-2xl font-bold text-green-700\">{reviewed}</span>\n                <span className=\"text-xs text-green-900 font-semibold\">Reviewed</span>\n              </div>\n              <div className=\"bg-yellow-50 rounded-xl p-4 shadow-card flex flex-col items-center\">\n                <span className=\"text-2xl font-bold text-yellow-700\">{pending}</span>\n                <span className=\"text-xs text-yellow-900 font-semibold\">Pending</span>\n              </div>\n            </div>\n            {/* Search Bar */}\n            <div className=\"mb-4 flex items-center gap-2\">\n              <input\n                type=\"text\"\n                placeholder=\"Search by title or user...\"\n                value={search}\n                onChange={e => setSearch(e.target.value)}\n                className=\"p-2 border rounded focus:ring-2 focus:ring-blue-200 w-64\"\n              />\n            </div>\n            {/* Filter Controls */}\n            <form className=\"flex flex-wrap gap-2 bg-white p-4 rounded-xl shadow border border-blue-100 mb-4\" onSubmit={handleFilter}>\n              <input type=\"text\" placeholder=\"User Name\" value={filterUser} onChange={e => setFilterUser(e.target.value)} className=\"p-2 border rounded focus:ring-2 focus:ring-blue-200\" />\n              <input type=\"date\" value={filterStart} onChange={e => setFilterStart(e.target.value)} className=\"p-2 border rounded focus:ring-2 focus:ring-blue-200\" />\n              <input type=\"date\" value={filterEnd} onChange={e => setFilterEnd(e.target.value)} className=\"p-2 border rounded focus:ring-2 focus:ring-blue-200\" />\n              <select value={filterType} onChange={e => setFilterType(e.target.value)} className=\"p-2 border rounded focus:ring-2 focus:ring-blue-200\">\n                <option value=\"\">All Types</option>\n                <option value=\"image\">Image</option>\n                <option value=\"pdf\">PDF</option>\n                <option value=\"audio\">Audio</option>\n                <option value=\"video\">Video</option>\n                <option value=\"text\">Text</option>\n                <option value=\"zip\">Archive</option>\n              </select>\n              <select value={filterStatus} onChange={e => setFilterStatus(e.target.value)} className=\"p-2 border rounded focus:ring-2 focus:ring-blue-200\">\n                <option value=\"\">All Status</option>\n                <option value=\"reviewed\">Reviewed</option>\n                <option value=\"pending\">Pending</option>\n              </select>\n              <button type=\"submit\" className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded font-semibold transition\">Filter</button>\n            </form>\n            <div className=\"bg-white p-6 rounded-2xl shadow-2xl border border-blue-100\">\n              <h3 className=\"text-xl font-bold mb-4 text-blue-700\">All Documents</h3>\n              {loading ? (\n                <div className=\"space-y-2\">\n                  {[...Array(5)].map((_, i) => (\n                    <div key={i} className=\"skeleton h-8 w-full\" />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <table className=\"w-full text-sm text-left border-separate border-spacing-y-1\">\n                    <thead className=\"bg-blue-50 sticky top-0 z-10\">\n                      <tr>\n                        <th className=\"p-2 font-semibold\">User</th>\n                        <th className=\"p-2 font-semibold\">Title</th>\n                        <th className=\"p-2 font-semibold\">Uploaded</th>\n                        <th className=\"p-2 font-semibold\">Viewed</th>\n                        <th className=\"p-2 font-semibold\">Comment</th>\n                        <th className=\"p-2 font-semibold\">File</th>\n                        <th className=\"p-2 font-semibold\">Status</th>\n                        <th className=\"p-2 font-semibold\">Action</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {filteredDocs.map(doc => (\n                        <tr key={doc.id} className=\"border-b last:border-0 hover:bg-blue-50/50 transition\">\n                          <td className=\"p-2\">{doc.user_name}</td>\n                          <td className=\"p-2\">\n                            {editingTitleId === doc.id ? (\n                              <input\n                                value={editTitle[doc.id] !== undefined ? editTitle[doc.id] : doc.title}\n                                onChange={e => setEditTitle(prev => ({ ...prev, [doc.id]: e.target.value }))}\n                                onBlur={() => { setEditingTitleId(null); handleSave(doc.id, doc.is_viewed, editTitle[doc.id]); }}\n                                className=\"border p-1 rounded w-32 focus:ring-2 focus:ring-blue-200\"\n                                autoFocus\n                              />\n                            ) : (\n                              <span onClick={() => setEditingTitleId(doc.id)} className=\"cursor-pointer hover:underline\">{doc.title}</span>\n                            )}\n                          </td>\n                          <td className=\"p-2\">{timeAgo(doc.upload_datetime)}</td>\n                          <td className=\"p-2\">\n                            <input type=\"checkbox\" checked={doc.is_viewed} onChange={e => handleSave(doc.id, e.target.checked)} />\n                          </td>\n                          <td className=\"p-2\">\n                            <textarea\n                              value={editComments[doc.id] !== undefined ? editComments[doc.id] : doc.admin_comment || ''}\n                              onChange={e => setEditComments(prev => ({ ...prev, [doc.id]: e.target.value }))}\n                              className=\"border p-1 rounded w-32 focus:ring-2 focus:ring-blue-200\"\n                            />\n                          </td>\n                          <td className=\"p-2 flex gap-2 items-center\">\n                            <button\n                              type=\"button\"\n                              className=\"text-blue-500 underline\"\n                              title=\"Download document\"\n                              onClick={() => handleDownloadFile(doc)}\n                            >\n                              Download\n                            </button>\n                            <button\n                              type=\"button\"\n                              className=\"text-blue-600 underline hover:text-blue-800 font-medium\"\n                              title=\"View document\"\n                              onClick={() => handleViewFile(doc)}\n                            >\n                              View\n                            </button>\n                          </td>\n                          <td className=\"p-2\">\n                            {doc.is_viewed ? <Badge color=\"reviewed\">Reviewed</Badge> : <Badge color=\"pending\">Pending</Badge>}\n                          </td>\n                          <td className=\"p-2\">\n                            <button\n                              className=\"bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600 transition\"\n                              title=\"Save comment/status\"\n                              onClick={() => handleSave(doc.id, doc.is_viewed)}\n                              type=\"button\"\n                            >\n                              Save\n                            </button>\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n            {/* File Preview Modal */}\n            {viewFile && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\n                <div className=\"bg-white rounded-xl shadow-xl p-6 max-w-2xl w-full relative\">\n                  <button\n                    className=\"absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl font-bold\"\n                    onClick={() => {\n                      URL.revokeObjectURL(viewFile.url);\n                      setViewFile(null);\n                    }}\n                  >\n                    ×\n                  </button>\n                  <h3 className=\"text-lg font-bold mb-4 text-blue-700\">{viewFile.title}</h3>\n                  <div className=\"w-full h-[70vh] flex items-center justify-center bg-gray-100 rounded\">\n                    {viewFile.type && viewFile.type.startsWith('image') ? (\n                      <img src={viewFile.url} alt={viewFile.title} className=\"max-h-full max-w-full rounded shadow\" />\n                    ) : viewFile.type && viewFile.type === 'application/pdf' ? (\n                      <iframe src={viewFile.url} title={viewFile.title} className=\"w-full h-full rounded border\" frameBorder=\"0\" />\n                    ) : viewFile.type && (viewFile.type.startsWith('text') || viewFile.type === 'application/json' || viewFile.type === 'application/xml' || viewFile.type === 'text/csv') ? (\n                      <iframe src={viewFile.url} title={viewFile.title} className=\"w-full h-full rounded border bg-white\" frameBorder=\"0\" />\n                    ) : viewFile.type && viewFile.type.startsWith('audio') ? (\n                      <audio controls src={viewFile.url} className=\"w-full\" />\n                    ) : viewFile.type && viewFile.type.startsWith('video') ? (\n                      <video controls src={viewFile.url} className=\"max-h-full max-w-full rounded shadow bg-black\" />\n                    ) : (\n                      <div className=\"text-gray-500 text-center\">\n                        <p>Preview not available for this file type.</p>\n                        <a href={viewFile.url} download={viewFile.title} className=\"text-blue-600 underline mt-2 inline-block\">Download file</a>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n            {/* Confirmation Modal */}\n            {showConfirm && (\n              <div className=\"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50\">\n                <div className=\"bg-white rounded-xl shadow-xl p-6 max-w-sm w-full relative animate-fadein\">\n                  <h3 className=\"text-lg font-bold mb-4 text-blue-700\">Are you sure?</h3>\n                  <p className=\"mb-6\">This action cannot be undone.</p>\n                  <div className=\"flex gap-4 justify-end\">\n                    <button onClick={() => setShowConfirm(false)} className=\"px-4 py-2 rounded bg-gray-200 hover:bg-gray-300\">Cancel</button>\n                    <button onClick={confirmAction} className=\"px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700\">Confirm</button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n          <BackToTopButton />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}